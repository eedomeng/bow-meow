<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html lang="en" class="light-style layout-menu-fixed" dir="ltr"
   data-theme="theme-default" data-assets-path="../assets/"
   data-template="vertical-menu-template-free"
   
   xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{layout}"
   
   >
<head>
<link rel="stylesheet" href="../assets/css/status.css">

<!-- Load c3.css -->
   <link href="../assets/c3/c3-0.7.20/c3-0.7.20/c3.css" rel="stylesheet">

   <!-- Load d3.js and c3.js -->
   <!-- <script src="/path/to/d3.v5.min.js" charset="utf-8"></script> -->
   <script src="https://d3js.org/d3.v5.min.js"></script>
   <script src="../assets/c3/c3-0.7.20/c3-0.7.20/c3.min.js"></script>

   <!-- fullcalendar ìŠ¤í¬ë¦½íŠ¸ 

<script defer src="../assets/fullcalendar/dist/index.global.min.js"></script>
<script defer src="../assets/fullcalendar/selectcalendar.js"></script>-->

   <!-- ê·¸ë˜í”„ ìŠ¤í¬ë¦½íŠ¸ -->
<script defer src="../assets/js/status-chart.js"></script>

  <!--alertì°½ -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css" rel="stylesheet">

  <!-- jQuery ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
</head>

<body>
   <!-- Layout wrapper -->
   <div class="layout-wrapper layout-content-navbar" layout:fragment="content">
      <div class="layout-container">
         <!-- Menu -->
         <aside th:replace="fragments :: aside">
         </aside>
         
         <!-- / Menu -->

         <!-- Layout container -->
         <div class="layout-page">
            <!-- Navbar -->

            <nav th:replace="fragments :: nav">
            </nav>

            <!-- / Navbar -->

            <!-- Content wrapper -->
            <div class="content-wrapper ">
               
               <!-- / Content -->
               <div class="daily row" >
               
                 <div id='calendar' style="width:60vw" >
                 <button type="button" class="btn btn-primary save" id="save" onclick="javascript:saveData();">Save</button> 
                 </div>
                   

        <div class="checker row">
           <div class="mb-3 col-md-3 dailycheck" style="position:absolute; left: 1300px; top: 100px;" >
 
                   <h3><b>
                      <div>
                       <script>
                       date = new Date().toLocaleDateString();
                       document.write(date);
                       </script>
                      </div>
                   </b> </h3>
                   <br>
                   
                       <div class=sch-addition>
            <button type="button" class="btn btn-primary me-2 schedule" id="modal_btn">Schedule Addition</button> 
                  <div class="black_bg"></div>
                  <div class="modal_wrap">
                  <div class="modal_close"><a href="/status">close</a></div>
                    <div>
                    <h4><b>Add Schedule</b></h4>
                    <br>
                     <div>
                     <script>
                      date = new Date().toLocaleDateString();
                      document.write(date);
                    </script>
                   </div>
                   <br>
                   <label> ë‚ ì§œ : <input name="regDate" type="date"> </label><br>
                   <label> ì‹œê°„ : <input name="regTime" type="time"> </label><br>
                   <input type='text' id='place' placeholder="ì¥ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”.">
                   <br>
                        <textarea class="form-control" id="floatingTextarea2" style="height: 10vh" placeholder="ì¼ì •ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
                        <br>
                       <button type="button" class="btn btn-outline-secondary account-image-reset mb-4"
                         onClick="location.href='/status'">
                   <span> Save <i class="fa-regular fa-square-plus"></i></span>
                  </button>
                  
                  <button type="button" class="btn btn-outline-secondary account-image-reset mb-4">
                    <span> Cancel <i class="fa-solid fa-trash-can"></i></span>
                     </button>
                     </div>
                  <div>
                  
               </div>
                 
            </div>
       </div>   
       
       <br>
                   
                    <div class="easy-checker card col-9">         
                    <h4 id="easy-checker-title">Daily checker</h4>
                        
                   <form action="/status" method="get" >
                   
                   <div>
                 <div class="input-group">
               <span class="input-group-text" id="basic-addon1">Food</span>
               <input name="food" type="number" min="0" class="form-control"
                     placeholder="g ë‹¨ìœ„ë¡œ ì…ë ¥í•˜ì„¸ìš”" aria-describedby="button-addon2"/>
            </div>
            
                  <br>
                  <div class="input-group">
              <span class="input-group-text" id="basic-addon1">Water</span>
              <input name="water" type="number" min="0" class="form-control"
                        placeholder="ml ë‹¨ìœ„ë¡œ ì…ë ¥í•˜ì„¸ìš”" aria-describedby="button-addon2"/>
             </div> 
                  <br>
                  
                 <div class="input-group">
                    <span class="input-group-text" id="basic-addon1">Take a Walk</span>
               <input name="walk" type="number" min="0" class="form-control"
                     placeholder="km ë‹¨ìœ„ë¡œ ì…ë ¥í•˜ì„¸ìš”" aria-describedby="button-addon2"/>
               </div>
                  <br>
                  
                    <div class="input-group">
                    <span class="input-group-text" id="basic-addon1">Treat</span>
               <input name="treat" type="number" min="0" class="form-control"
                     placeholder="ìˆ«ì(íšŸìˆ˜)ë¡œ ì…ë ¥í•˜ì„¸ìš”" aria-describedby="button-addon2"/>
               </div>
               <br>
               
                   <div class="input-group">
                 <span class="input-group-text" id="basic-addon1">Weight</span>
                 <input name="weight" type="number" min="0" class="form-control"
                      placeholder="kg ë‹¨ìœ„ë¡œ ì…ë ¥í•˜ì„¸ìš”" aria-describedby="button-addon2"/>
                  </div>
                          <br>
                          
            <div class="easy-checker-btn">
           <button class="btn btn-outline-primary" type="submit" id="button-addon2">ğŸ’¾&nbsp<b>ê¸°ë¡í•˜ê¸°</b> <i class="fa-solid fa-plus"></i></button>
         </div>
         </div>
         </form>
                  <br>
                  <br>
             
            </div>
            </div>
            
        
      </div>
           <!-- chart start -->
                  <div class=chart>
  
                  <div class="main-contents2 col-9" id="third-area">
                     <div class="day-graph card col-9">
                        <h4 id="easy-checker-title">ì˜¤ëŠ˜ ë‘ì½©ì´ëŠ” ì´ë§Œí¼ ë¨¹ê³  ë§ˆì…¨ë‹¤.</h4>
                                   <div class="chart-wrapper">
                                <div id="total-chart">
                              <!-- ì°¨íŠ¸ ê³µê°„ -->
                           </div>
                        </div>
                     </div>
                   </div>
                   </div>
             <!-- chart fin-->
        
               <!-- Footer -->
               <footer class="content-footer footer bg-footer-theme">
                  <div
                     class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                     <div class="mb-2 mb-md-0">
                        Â©
                        <script>
                    document.write(new Date().getFullYear());
                  </script>
                        , made with â¤ï¸ by <a href="https://themeselection.com"
                           target="_blank" class="footer-link fw-bolder">ThemeSelection</a>
                     </div>
                     <div>
                        <a href="https://themeselection.com/license/"
                           class="footer-link me-4" target="_blank">License</a> <a
                           href="https://themeselection.com/" target="_blank"
                           class="footer-link me-4">More Themes</a> <a
                           href="https://themeselection.com/demo/sneat-bootstrap-html-admin-template/documentation/"
                           target="_blank" class="footer-link me-4">Documentation</a>

                        <a
                           href="https://github.com/themeselection/sneat-html-admin-template-free/issues"
                           target="_blank" class="footer-link me-4">Support</a>
                     </div>
                  </div>
               </footer>
               <!-- / Footer -->

               <div class="content-backdrop fade"></div>
            </div>
            <!-- Content wrapper -->
         </div>
         <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
   </div>
   <!-- / Layout wrapper -->
<script defer src="../assets/fullcalendar/dist/index.global.js"></script>
<script defer src="../assets/fullcalendar/lib/main.min.css"></script>
<script defer src="../assets/fullcalendar/lib/main.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
<script>

// caledarë¥¼ ì „ì—­ë³€ìˆ˜ë¡œ ì„ ì–¸í•´ì„œ ì–´ë””ì„œë“  ì“¸ ìˆ˜ ìˆê²Œ í•˜ê¸° 
   var calendar= null;
   var localeSelectorEl = document.getElementById('locale-selector');

  $(document).ready(function() {
    var calendarEl = document.getElementById('calendar');

    // ìº˜ë¦°ë”ì— ê°’ì£¼ê¸° 
    calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      initialDate: '2023-04-17',
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
      editable: true,
      selectMirror: true,
      droppable: true, 
      eventAdd: function () { // ì´ë²¤íŠ¸ê°€ ì¶”ê°€ë˜ë©´ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
                            console.log()
                        },
      // ì¼ì •ì¶”ê°€í•˜ê¸° ê¸°ëŠ¥ 
      select: function(arg) {
    	  // í”„ë¡¬í”„íŠ¸ë¡œ ì¶”ê°€ê°€ëŠ¥ 
        var title = prompt('Add schedule:');

        if (title) {
        	//ì´ë²¤íŠ¸ ì¶”ê°€
          calendar.addEvent({
            title: title,
            start: arg.start,
            end: arg.end,
          })
        }
        var allEvent = calendar.getEvents(); //.getEvents() í•¨ìˆ˜ë¡œ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ Array í˜•ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤. (FullCalendar ê¸°ëŠ¥ ì°¸ì¡°)
        
        // ì´ë²¤íŠ¸ë¥¼ ë°°ì—´ì— í•œ ë²ˆ ë” ë‹´ì•„ì¤€ë‹¤. json ë°ì´í„°ë¥¼ ë°›ê¸° ìœ„í•œ ë°°ì—´ ì„ ì–¸ 
        var events = new Array();
  
          // forë¬¸ì„ ëŒë¦°ë‹¤. allEventì˜ ê¸¸ì´ë§Œí¼ ië¥¼ ëŒë¦°ë‹¤. 
          for(var i =0; i <allEvent.length; i++ ){
          // obj ê°ì²´ì— jsonì„ ë‹´ëŠ”ë‹¤. 
	       var obj = new Object();
	  
	        // ë””ë¹„ì— ì €ì¥í•  ë‚´ìš©
	         obj.title= allEvent[i]._def.title // ì´ë²¤íŠ¸ ëª…ì¹­ ì¶œë ¥
	         obj.start= allEvent[i]._instance.range.start; // ì´ë²¤íŠ¸ ì‹œì‘ ì‹œê°„ ë° ë‚ ì§œ
	         obj.end= allEvent[i]._instance.range.end; // ì´ë²¤íŠ¸ ì¢…ë£Œ ì‹œê°„ ë° ë‚ ì§œ
  
	        // ì „ì²´ eventsë“¤ì´ ë°°ì—´í˜•íƒœë¡œ json ê°ì²´ í˜•íƒœë¡œ events ë³€ìˆ˜ì— ë‹´ê¸´ë‹¤. 
           events.push(obj);
        }
  
        // eventsë¥¼ ì„œë²„ ì „ì†¡ì‹œ, ë¬¸ìì—´ í˜•íƒœë¡œ ë„˜ê¸¸ê²ƒì´ë¼ stringfyë¥¼ ì‚¬ìš©
        var jsondata= JSON.stringify(events);
        console.dir(jsondata);
        // saveData(jsondata);

        $(function saveData(jsondata) {
              $.ajax({
               url: "/html/status",
               method: "POST",
              dataType: "json",
              data: JSON.stringify(events),
              contentType: 'application/json',
             })
                 .done(function (result) {
                   alert(result);
                    })
                  .fail(function (request, status, error) {
                      alert("ì—ëŸ¬ ë°œìƒ" + error);
                    });
                 calendar.unselect()
           });
      },
      // ì‚­ì œê¸°ëŠ¥
      eventClick: function(arg) {
        if (confirm('Do you want to delete this event?')) {
          arg.event.remove()
        }
      },
      editable: true,
      dayMaxEvents: true, // allow "more" link when too many events
      events: [
     
      ]
    });

    calendar.render();
  });

  // // ì „ì²´ ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ì•¼í•œë‹¤. 
  // function allSave(){
  // var allEvent = calendar.getEvents();
  // // allEvent ê°ì²´ê°€ ì˜ ë„˜ì–´ì˜¤ëŠ”ì§€ ì½˜ì†”ì°ì–´ì„œ í™•ì¸
  // // getEventëŠ” ë°°ì—´ í˜•íƒœë¡œ ë„˜ì–´ì˜¤ëŠ”ë° ì˜ ë„˜ì–´ì˜´, ì•ˆì— contentì— titleë‚´ìš©ì´ ì¼ì • ì œëª©ì´ ë“¤ì–´ê°
  // console.log(allEvent);
  // // ì´ë²¤íŠ¸ë¥¼ ë°°ì—´ì— í•œ ë²ˆ ë” ë‹´ì•„ì¤€ë‹¤. 
  // var events = new Array();
  
  // // forë¬¸ì„ ëŒë¦°ë‹¤. allEventì˜ ê¸¸ì´ë§Œí¼ ië¥¼ ëŒë¦°ë‹¤. 
  // for(var i =0; i <allEvent.length; i++ ){
  //     // obj ê°ì²´ì— ë‹´ëŠ”ë‹¤. 
	//   var obj = new Object();
	  
	//   // ë””ë¹„ì— ì €ì¥í•  ë‚´ìš©
	//  obj.title= allEvent[i]._def.title // ì´ë²¤íŠ¸ ëª…ì¹­ ì¶œë ¥
	//  obj.allday= allEvent[i]._def.allDay // í•˜ë£¨ ì¢…ì¼ì˜ ì´ë²¤íŠ¸ì¸ì§€ ì•Œë ¤ì£¼ëŠ” boolean ê°’ (true,false)
	//  obj.start= allEvent[i]._instance.range.start; // ì´ë²¤íŠ¸ ì‹œì‘ ì‹œê°„ ë° ë‚ ì§œ
	//  obj.end= allEvent[i]._instance.range.end; // ì´ë²¤íŠ¸ ì¢…ë£Œ ì‹œê°„ ë° ë‚ ì§œ
  
	//  // ì „ì²´ eventsë“¤ì´ ë°°ì—´í˜•íƒœë¡œ json ê°ì²´ í˜•íƒœë¡œ events ë³€ìˆ˜ì— ë‹´ê¸´ë‹¤. 
  //    events.push(obj);
  // }
  
  // // eventsë¥¼ ì„œë²„ ì „ì†¡ì‹œ, ë¬¸ìì—´ í˜•íƒœë¡œ ë„˜ê¸¸ê²ƒì´ë¼ stringfyë¥¼ ì‚¬ìš©
  // var jsondata= JSON.stringify(events);
  // console.dir(jsondata);
  
  // savedata(jsondata);
  
//}
  
</script>
</body>
</html>