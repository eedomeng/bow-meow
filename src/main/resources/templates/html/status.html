<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html lang="en" class="light-style layout-menu-fixed" dir="ltr"
   data-theme="theme-default" data-assets-path="../assets/"
   data-template="vertical-menu-template-free"
   
   xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{layout}"
   
   >
<head>
<link rel="stylesheet" href="../assets/css/status.css">

<!-- Load c3.css -->
   <link href="../assets/c3/c3-0.7.20/c3-0.7.20/c3.css" rel="stylesheet">

   <!-- Load d3.js and c3.js -->
   <!-- <script src="/path/to/d3.v5.min.js" charset="utf-8"></script> -->
   <script src="https://d3js.org/d3.v5.min.js"></script>
   <script src="../assets/c3/c3-0.7.20/c3-0.7.20/c3.min.js"></script>

   <!-- fullcalendar Ïä§ÌÅ¨Î¶ΩÌä∏ 

<script defer src="../assets/fullcalendar/dist/index.global.min.js"></script>
<script defer src="../assets/fullcalendar/selectcalendar.js"></script>-->

   <!-- Í∑∏ÎûòÌîÑ Ïä§ÌÅ¨Î¶ΩÌä∏ -->
<script defer src="../assets/js/status-chart.js"></script>

  <!--alertÏ∞Ω -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css" rel="stylesheet">

  <!-- jQuery ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï∂îÍ∞Ä -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
</head>

<body>
   <!-- Layout wrapper -->
   <div class="layout-wrapper layout-content-navbar" layout:fragment="content">
      <div class="layout-container">
         <!-- Menu -->
         <aside th:replace="fragments :: aside">
         </aside>
         
         <!-- / Menu -->

         <!-- Layout container -->
         <div class="layout-page">
            <!-- Navbar -->

            <nav th:replace="fragments :: nav">
            </nav>

            <!-- / Navbar -->

            <!-- Content wrapper -->
            <div class="content-wrapper ">
               
               <!-- / Content -->
               <div class="daily row" >
               
                 <div id='calendar' style="width:60vw" >
                 <button type="button" class="btn btn-primary save" id="save" onclick="javascript:saveData();">Save</button> 
                 </div>
                   

        <div class="checker row">
           <div class="mb-3 col-md-3 dailycheck" style="position:absolute; left: 1300px; top: 100px;" >
 
                   <h3><b>
                      <div>
                       <script>
                       date = new Date().toLocaleDateString();
                       document.write(date);
                       </script>
                      </div>
                   </b> </h3>
                   <br>
                   
                       <div class=sch-addition>
            <button type="button" class="btn btn-primary me-2 schedule" id="modal_btn">Schedule Addition</button> 
                  <div class="black_bg"></div>
                  <div class="modal_wrap">
                  <div class="modal_close"><a href="/status">close</a></div>
                    <div>
                    <h4><b>Add Schedule</b></h4>
                    <br>
                     <div>
                     <script>
                      date = new Date().toLocaleDateString();
                      document.write(date);
                    </script>
                   </div>
                   <br>
                   <label> ÎÇ†Ïßú : <input name="regDate" type="date"> </label><br>
                   <label> ÏãúÍ∞Ñ : <input name="regTime" type="time"> </label><br>
                   <input type='text' id='place' placeholder="Ïû•ÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.">
                   <br>
                        <textarea class="form-control" id="floatingTextarea2" style="height: 10vh" placeholder="ÏùºÏ†ïÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî."></textarea>
                        <br>
                       <button type="button" class="btn btn-outline-secondary account-image-reset mb-4"
                         onClick="location.href='/status'">
                   <span> Save <i class="fa-regular fa-square-plus"></i></span>
                  </button>
                  
                  <button type="button" class="btn btn-outline-secondary account-image-reset mb-4">
                    <span> Cancel <i class="fa-solid fa-trash-can"></i></span>
                     </button>
                     </div>
                  <div>
                  
               </div>
                 
            </div>
       </div>   
       
       <br>
                   
                    <div class="easy-checker card col-9">         
                    <h4 id="easy-checker-title">Daily checker</h4>
                        
                   <form action="/status" method="get" >
                   
                   <div>
                 <div class="input-group">
               <span class="input-group-text" id="basic-addon1">Food</span>
               <input name="food" type="number" min="0" class="form-control"
                     placeholder="g Îã®ÏúÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" aria-describedby="button-addon2"/>
            </div>
            
                  <br>
                  <div class="input-group">
              <span class="input-group-text" id="basic-addon1">Water</span>
              <input name="water" type="number" min="0" class="form-control"
                        placeholder="ml Îã®ÏúÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" aria-describedby="button-addon2"/>
             </div> 
                  <br>
                  
                 <div class="input-group">
                    <span class="input-group-text" id="basic-addon1">Take a Walk</span>
               <input name="walk" type="number" min="0" class="form-control"
                     placeholder="km Îã®ÏúÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" aria-describedby="button-addon2"/>
               </div>
                  <br>
                  
                    <div class="input-group">
                    <span class="input-group-text" id="basic-addon1">Treat</span>
               <input name="treat" type="number" min="0" class="form-control"
                     placeholder="Ïà´Ïûê(ÌöüÏàò)Î°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" aria-describedby="button-addon2"/>
               </div>
               <br>
               
                   <div class="input-group">
                 <span class="input-group-text" id="basic-addon1">Weight</span>
                 <input name="weight" type="number" min="0" class="form-control"
                      placeholder="kg Îã®ÏúÑÎ°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî" aria-describedby="button-addon2"/>
                  </div>
                          <br>
                          
            <div class="easy-checker-btn">
           <button class="btn btn-outline-primary" type="submit" id="button-addon2">üíæ&nbsp<b>Í∏∞Î°ùÌïòÍ∏∞</b> <i class="fa-solid fa-plus"></i></button>
         </div>
         </div>
         </form>
                  <br>
                  <br>
             
            </div>
            </div>
            
        
      </div>
           <!-- chart start -->
                  <div class=chart>
  
                  <div class="main-contents2 col-9" id="third-area">
                     <div class="day-graph card col-9">
                        <h4 id="easy-checker-title">Ïò§Îäò ÎëêÏΩ©Ïù¥Îäî Ïù¥ÎßåÌÅº Î®πÍ≥† ÎßàÏÖ®Îã§.</h4>
                                   <div class="chart-wrapper">
                                <div id="total-chart">
                              <!-- Ï∞®Ìä∏ Í≥µÍ∞Ñ -->
                           </div>
                        </div>
                     </div>
                   </div>
                   </div>
             <!-- chart fin-->
        
               <!-- Footer -->
               <footer class="content-footer footer bg-footer-theme">
                  <div
                     class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                     <div class="mb-2 mb-md-0">
                        ¬©
                        <script>
                    document.write(new Date().getFullYear());
                  </script>
                        , made with ‚ù§Ô∏è by <a href="https://themeselection.com"
                           target="_blank" class="footer-link fw-bolder">ThemeSelection</a>
                     </div>
                     <div>
                        <a href="https://themeselection.com/license/"
                           class="footer-link me-4" target="_blank">License</a> <a
                           href="https://themeselection.com/" target="_blank"
                           class="footer-link me-4">More Themes</a> <a
                           href="https://themeselection.com/demo/sneat-bootstrap-html-admin-template/documentation/"
                           target="_blank" class="footer-link me-4">Documentation</a>

                        <a
                           href="https://github.com/themeselection/sneat-html-admin-template-free/issues"
                           target="_blank" class="footer-link me-4">Support</a>
                     </div>
                  </div>
               </footer>
               <!-- / Footer -->

               <div class="content-backdrop fade"></div>
            </div>
            <!-- Content wrapper -->
         </div>
         <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
   </div>
   <!-- / Layout wrapper -->
<script defer src="../assets/fullcalendar/dist/index.global.js"></script>
<script defer src="../assets/fullcalendar/lib/main.min.css"></script>
<script defer src="../assets/fullcalendar/lib/main.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
<script>

// caledarÎ•º Ï†ÑÏó≠Î≥ÄÏàòÎ°ú ÏÑ†Ïñ∏Ìï¥ÏÑú Ïñ¥ÎîîÏÑúÎì† Ïì∏ Ïàò ÏûàÍ≤å ÌïòÍ∏∞ 
   var calendar= null;
   var localeSelectorEl = document.getElementById('locale-selector');

  $(document).ready(function() {
    var calendarEl = document.getElementById('calendar');

    // Ï∫òÎ¶∞ÎçîÏóê Í∞íÏ£ºÍ∏∞ 
    calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      initialDate: '2023-04-17',
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
      editable: true,
      selectMirror: true,
      droppable: true, 
      eventAdd: function () { // Ïù¥Î≤§Ìä∏Í∞Ä Ï∂îÍ∞ÄÎêòÎ©¥ Î∞úÏÉùÌïòÎäî Ïù¥Î≤§Ìä∏
                            console.log()
                        },
      // ÏùºÏ†ïÏ∂îÍ∞ÄÌïòÍ∏∞ Í∏∞Îä• 
      select: function(arg) {
    	  // ÌîÑÎ°¨ÌîÑÌä∏Î°ú Ï∂îÍ∞ÄÍ∞ÄÎä• 
        var title = prompt('Add schedule:');

        if (title) {
        	//Ïù¥Î≤§Ìä∏ Ï∂îÍ∞Ä
          calendar.addEvent({
            title: title,
            start: arg.start,
            end: arg.end,
          })
        }
        var allEvent = calendar.getEvents(); //.getEvents() Ìï®ÏàòÎ°ú Î™®Îì† Ïù¥Î≤§Ìä∏Î•º Array ÌòïÏãùÏúºÎ°ú Í∞ÄÏ†∏Ïò®Îã§. (FullCalendar Í∏∞Îä• Ï∞∏Ï°∞)
        
        // Ïù¥Î≤§Ìä∏Î•º Î∞∞Ïó¥Ïóê Ìïú Î≤à Îçî Îã¥ÏïÑÏ§ÄÎã§. json Îç∞Ïù¥ÌÑ∞Î•º Î∞õÍ∏∞ ÏúÑÌïú Î∞∞Ïó¥ ÏÑ†Ïñ∏ 
        var events = new Array();
  
          // forÎ¨∏ÏùÑ ÎèåÎ¶∞Îã§. allEventÏùò Í∏∏Ïù¥ÎßåÌÅº iÎ•º ÎèåÎ¶∞Îã§. 
          for(var i =0; i <allEvent.length; i++ ){
          // obj Í∞ùÏ≤¥Ïóê jsonÏùÑ Îã¥ÎäîÎã§. 
	       var obj = new Object();
	  
	        // ÎîîÎπÑÏóê Ï†ÄÏû•Ìï† ÎÇ¥Ïö©
	         obj.title= allEvent[i]._def.title // Ïù¥Î≤§Ìä∏ Î™ÖÏπ≠ Ï∂úÎ†•
	         obj.start= allEvent[i]._instance.range.start; // Ïù¥Î≤§Ìä∏ ÏãúÏûë ÏãúÍ∞Ñ Î∞è ÎÇ†Ïßú
	         obj.end= allEvent[i]._instance.range.end; // Ïù¥Î≤§Ìä∏ Ï¢ÖÎ£å ÏãúÍ∞Ñ Î∞è ÎÇ†Ïßú
  
	        // Ï†ÑÏ≤¥ eventsÎì§Ïù¥ Î∞∞Ïó¥ÌòïÌÉúÎ°ú json Í∞ùÏ≤¥ ÌòïÌÉúÎ°ú events Î≥ÄÏàòÏóê Îã¥Í∏¥Îã§. 
           events.push(obj);
        }
  
        // eventsÎ•º ÏÑúÎ≤Ñ Ï†ÑÏÜ°Ïãú, Î¨∏ÏûêÏó¥ ÌòïÌÉúÎ°ú ÎÑòÍ∏∏Í≤ÉÏù¥Îùº stringfyÎ•º ÏÇ¨Ïö©
        var jsondata= JSON.stringify(events);
        console.dir(jsondata);
        // saveData(jsondata);

        $(function saveData(jsondata) {
              $.ajax({
               url: "/html/status",
               method: "POST",
              dataType: "json",
              data: JSON.stringify(events),
              contentType: 'application/json',
             })
                 .done(function (result) {
                   alert(result);
                    })
                  .fail(function (request, status, error) {
                      alert("ÏóêÎü¨ Î∞úÏÉù" + error);
                    });
                 calendar.unselect()
           });
      },
      // ÏÇ≠Ï†úÍ∏∞Îä•
      eventClick: function(arg) {
        if (confirm('Do you want to delete this event?')) {
          arg.event.remove()
        }
      },
      editable: true,
      dayMaxEvents: true, // allow "more" link when too many events
      events: [
     
      ]
    });

    calendar.render();
  });

  // // Ï†ÑÏ≤¥ Ïù¥Î≤§Ìä∏ Îç∞Ïù¥ÌÑ∞Î•º Ï∂îÏ∂úÌï¥ÏïºÌïúÎã§. 
  // function allSave(){
  // var allEvent = calendar.getEvents();
  // // allEvent Í∞ùÏ≤¥Í∞Ä Ïûò ÎÑòÏñ¥Ïò§ÎäîÏßÄ ÏΩòÏÜîÏ∞çÏñ¥ÏÑú ÌôïÏù∏
  // // getEventÎäî Î∞∞Ïó¥ ÌòïÌÉúÎ°ú ÎÑòÏñ¥Ïò§ÎäîÎç∞ Ïûò ÎÑòÏñ¥Ïò¥, ÏïàÏóê contentÏóê titleÎÇ¥Ïö©Ïù¥ ÏùºÏ†ï Ï†úÎ™©Ïù¥ Îì§Ïñ¥Í∞ê
  // console.log(allEvent);
  // // Ïù¥Î≤§Ìä∏Î•º Î∞∞Ïó¥Ïóê Ìïú Î≤à Îçî Îã¥ÏïÑÏ§ÄÎã§. 
  // var events = new Array();
  
  // // forÎ¨∏ÏùÑ ÎèåÎ¶∞Îã§. allEventÏùò Í∏∏Ïù¥ÎßåÌÅº iÎ•º ÎèåÎ¶∞Îã§. 
  // for(var i =0; i <allEvent.length; i++ ){
  //     // obj Í∞ùÏ≤¥Ïóê Îã¥ÎäîÎã§. 
	//   var obj = new Object();
	  
	//   // ÎîîÎπÑÏóê Ï†ÄÏû•Ìï† ÎÇ¥Ïö©
	//  obj.title= allEvent[i]._def.title // Ïù¥Î≤§Ìä∏ Î™ÖÏπ≠ Ï∂úÎ†•
	//  obj.allday= allEvent[i]._def.allDay // ÌïòÎ£® Ï¢ÖÏùºÏùò Ïù¥Î≤§Ìä∏Ïù∏ÏßÄ ÏïåÎ†§Ï£ºÎäî boolean Í∞í (true,false)
	//  obj.start= allEvent[i]._instance.range.start; // Ïù¥Î≤§Ìä∏ ÏãúÏûë ÏãúÍ∞Ñ Î∞è ÎÇ†Ïßú
	//  obj.end= allEvent[i]._instance.range.end; // Ïù¥Î≤§Ìä∏ Ï¢ÖÎ£å ÏãúÍ∞Ñ Î∞è ÎÇ†Ïßú
  
	//  // Ï†ÑÏ≤¥ eventsÎì§Ïù¥ Î∞∞Ïó¥ÌòïÌÉúÎ°ú json Í∞ùÏ≤¥ ÌòïÌÉúÎ°ú events Î≥ÄÏàòÏóê Îã¥Í∏¥Îã§. 
  //    events.push(obj);
  // }
  
  // // eventsÎ•º ÏÑúÎ≤Ñ Ï†ÑÏÜ°Ïãú, Î¨∏ÏûêÏó¥ ÌòïÌÉúÎ°ú ÎÑòÍ∏∏Í≤ÉÏù¥Îùº stringfyÎ•º ÏÇ¨Ïö©
  // var jsondata= JSON.stringify(events);
  // console.dir(jsondata);
  
  // savedata(jsondata);
  
//}
  
</script>
</body>
</html>